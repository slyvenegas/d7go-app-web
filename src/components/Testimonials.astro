---
import { siteConfig } from '../config.ts';
import { Icon } from 'astro-icon/components';
import { testimonialsData } from '../content/testimonials';

const companyIconMap = {
  Stripe: 'simple-icons:stripe',
  Shopify: 'simple-icons:shopify',
  Notion: 'simple-icons:notion',
  HubSpot: 'simple-icons:hubspot',
  Intercom: 'simple-icons:intercom',
  Linear: 'simple-icons:linear',
};
---

<section class="relative bg-white px-4 py-20 sm:px-6 lg:px-8">
  <div class="mx-auto max-w-7xl">
    <div class="scroll-fade-up mx-auto mb-16 max-w-3xl text-center">
      <h2 class="text-mono-black mb-4 text-4xl font-bold sm:text-5xl">
        {siteConfig.testimonials.title}
      </h2>
      <p class="text-mono-dark text-xl">
        {siteConfig.testimonials.subtitle}
      </p>
    </div>

    <div class="mb-20 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        testimonialsData.map((testimonial, index) => (
          <div
            class={`scroll-fade-up border-mono-black bg-mono-lighter rounded-xl border-l-4 p-8 shadow-lg stagger-${(index % 9) + 1}`}
          >
            <div class="mb-4 flex">
              {Array.from({ length: testimonial.rating }).map(() => (
                <Icon
                  name="heroicons:star-solid"
                  class="text-mono-black h-5 w-5"
                />
              ))}
            </div>
            <p class="text-mono-dark mb-6 leading-relaxed">
              "{testimonial.quote}"
            </p>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <div class="bg-mono-black mr-4 flex h-12 w-12 items-center justify-center rounded-full font-semibold text-white">
                  {testimonial.initials}
                </div>
                <div>
                  <div class="text-mono-black font-semibold">
                    {testimonial.author}
                  </div>
                  <div class="text-mono-gray text-sm">{testimonial.role}</div>
                </div>
              </div>
              {/* <Icon
                name={companyIconMap[testimonial.company]}
                class="text-mono-black h-6 w-6 opacity-60"
              /> */}
            </div>
          </div>
        ))
      }
    </div>

    
  </div>
</section>
